@using CoreBuilder.Entities

<div class="card shadow border-0 overflow-hidden" style="font-family: '@(Theme?.FontFamily ?? "Inter")', sans-serif;">
    <div class="bg-light border-bottom px-3 py-2 d-flex align-items-center">
        <div class="d-flex gap-1 me-3">
            <div class="rounded-circle bg-danger" style="width:10px; height:10px;"></div>
            <div class="rounded-circle bg-warning" style="width:10px; height:10px;"></div>
            <div class="rounded-circle bg-success" style="width:10px; height:10px;"></div>
        </div>
        <div class="bg-white px-3 py-1 rounded text-muted small flex-grow-1 text-center border">
            @Domain
        </div>
    </div>

    @if (Theme != null)
    {
        <div class="preview-content position-relative" style="min-height: 600px; font-size: @(Theme.BaseFontSize)px; overflow-y: auto; max-height: 800px;">

            <header class="d-flex align-items-center justify-content-between px-4 py-3 border-bottom sticky-top"
                    style="background-color: @Theme.HeaderBgColor; z-index: 100;">

                <div class="fw-bold fs-5 d-flex align-items-center gap-2" style="color: @Theme.PrimaryColor;">

                    @if (Theme.ShowLogo && !string.IsNullOrEmpty(Theme.LogoUrl))
                    {
                        <img src="@Theme.LogoUrl" alt="@SiteName" style="height: 40px; object-fit: contain;" />
                    }

                    @if (Theme.ShowSiteName)
                    {
                        <span>@(SiteName ?? "Site Adý")</span>
                    }

                </div>

                @if (Theme.MenuType == "Yatay")
                {
                    <nav class="d-none d-md-block">
                        <a href="#" class="me-3 text-decoration-none fw-bold" style="color: @Theme.MenuTextColor;">Ana Sayfa</a>
                        <a href="#" class="me-3 text-decoration-none" style="color: @Theme.MenuTextColor;">Hakkýmýzda</a>
                        <a href="#" class="text-decoration-none" style="color: @Theme.MenuTextColor;">Ýletiþim</a>
                    </nav>
                }
            </header>

            @if (Theme.MenuType == "Dikey")
            {
                <div class="position-absolute top-0 start-0 bottom-0 border-end bg-white p-3 pt-5"
                     style="width: 150px; z-index: 10; margin-top: 65px;">
                    <a href="#" class="d-block mb-2 text-decoration-none fw-bold" style="color: @Theme.PrimaryColor;">Ana Sayfa</a>
                    <a href="#" class="d-block mb-2 text-decoration-none" style="color: @Theme.SecondaryColor;">Hakkýmýzda</a>
                    <a href="#" class="d-block mb-2 text-decoration-none" style="color: @Theme.SecondaryColor;">Ýletiþim</a>
                </div>
            }

            <!-- Sayfa Baþlýðý -->
            <div class="p-4 bg-light border-bottom" style="background: linear-gradient(135deg, @Theme.PrimaryColor 0%, @Theme.SecondaryColor 100%); color: white;">
                <div class="@(Theme.MenuType == "Dikey" ? "ps-5 ms-5" : "")">
                    <h1 class="mb-2" style="font-size: 2rem; color: white;">@(PageTitle ?? "Sayfa Baþlýðý")</h1>
                    <p class="text-white-50">@(string.IsNullOrEmpty(PageTitle) ? "Sayfa baþlýðý buraya görünecek" : "")</p>
                </div>
            </div>

            <!-- Sayfa Ýçeriði -->
            <div class="p-4 @(Theme.MenuType == "Dikey" ? "ps-5 ms-5" : "")">
                @if (!string.IsNullOrEmpty(PageContent))
                {
                    <div style="line-height: 1.6; color: #333;">
                        @((MarkupString)PageContent)
                    </div>
                }
                else
                {
                    <div class="alert alert-info">
                        <i class="fa-solid fa-info-circle me-2"></i>
                        Sayfa içeriði burada gösterilecek. Saðdaki editörde içerik yazýn.
                    </div>
                }
            </div>

            <!-- Footer -->
            <div class="border-top p-4 bg-light text-center text-muted small">
                <p class="mb-0">© 2024 @(SiteName ?? "Site Adý"). Tüm haklarý saklýdýr.</p>
            </div>
        </div>
    }
    else
    {
        <div class="p-5 text-center text-muted">Tema ayarlarý yükleniyor...</div>
    }
</div>

@code {
    [Parameter]
    public ThemeSettings? Theme { get; set; }

    [Parameter]
    public string? Domain { get; set; }

    [Parameter]
    public string? SiteName { get; set; }

    [Parameter]
    public string? PageTitle { get; set; }

    [Parameter]
    public string? PageContent { get; set; }
}
